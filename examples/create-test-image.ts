/**
 * Crea una imagen JPEG simple de prueba
 * Nota: Este es un JPEG muy básico generado manualmente
 */
import * as fs from 'fs'

// Crear un JPEG mínimo (100x100 píxeles, azul sólido)
// JPEG header y datos mínimos válidos

const jpegData = Buffer.from([
  // SOI (Start of Image)
  0xFF, 0xD8,

  // APP0 (JFIF header)
  0xFF, 0xE0, 0x00, 0x10, // Marker + length
  0x4A, 0x46, 0x49, 0x46, 0x00, // "JFIF\0"
  0x01, 0x01, // Version 1.1
  0x00, // Units (no units)
  0x00, 0x01, 0x00, 0x01, // X and Y density
  0x00, 0x00, // Thumbnail size

  // DQT (Define Quantization Table)
  0xFF, 0xDB, 0x00, 0x43, 0x00, // Marker + length + table ID
  // Quantization table (64 bytes)
  ...Array(64).fill(16),

  // SOF0 (Start of Frame - Baseline DCT)
  0xFF, 0xC0, 0x00, 0x11, // Marker + length
  0x08, // Precision (8 bits)
  0x00, 0x64, // Height (100)
  0x00, 0x64, // Width (100)
  0x03, // Number of components (3 = RGB)
  0x01, 0x11, 0x00, // Component 1 (Y)
  0x02, 0x11, 0x01, // Component 2 (Cb)
  0x03, 0x11, 0x01, // Component 3 (Cr)

  // DHT (Define Huffman Table) - simplified
  0xFF, 0xC4, 0x00, 0x1F, 0x00, // DC table
  0x00, 0x01, 0x05, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0A, 0x0B,

  // SOS (Start of Scan)
  0xFF, 0xDA, 0x00, 0x0C, 0x03,
  0x01, 0x00, 0x02, 0x11, 0x03, 0x11, 0x00, 0x3F, 0x00,

  // Compressed image data (minimal - blue color)
  ...Array(200).fill(0x55),

  // EOI (End of Image)
  0xFF, 0xD9
])

const outputPath = 'examples/test-image.jpg'
fs.writeFileSync(outputPath, jpegData)

console.log(`✅ Imagen de prueba creada: ${outputPath}`)
console.log(`   Dimensiones: 100x100 píxeles`)
console.log(`   Formato: JPEG`)
